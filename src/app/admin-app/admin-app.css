/* Admin App Styles - Tách biệt khỏi dự án chính */

.admin-app-container {
  min-height: 100vh;
  background: radial-gradient(circle at top left, #eef4ff 0, #f7f9fc 45%, #f5f5f5 100%);
  font-family: 'Segoe UI', 'Roboto', 'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
  isolation: isolate;
}

/* Login Page Styles */
.admin-app-login-container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  background: radial-gradient(circle at top left, #eef4ff 0, #f7f9fc 45%, #f5f5f5 100%);
}

.admin-app-login-card {
  width: 100%;
  max-width: 420px;
  background: rgba(255, 255, 255, 0.96);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(15, 23, 42, 0.12);
  border: 1px solid rgba(148, 163, 184, 0.2);
  padding: 40px;
  backdrop-filter: blur(10px);
}

.admin-app-login-header {
  text-align: center;
  margin-bottom: 32px;
}

.admin-app-login-title {
  font-size: 28px;
  font-weight: 700;
  color: #0f172a;
  margin: 0 0 8px 0;
  letter-spacing: -0.5px;
}

.admin-app-login-subtitle {
  font-size: 15px;
  color: #64748b;
  margin: 0;
}

.admin-app-login-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.admin-app-form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.admin-app-form-label {
  font-size: 15px;
  font-weight: 500;
  color: #334155;
}

.admin-app-form-input {
  width: 100%;
  padding: 12px 16px;
  border: 1.5px solid #d0d7e2;
  border-radius: 8px;
  font-size: 15px;
  color: #0f172a;
  background: white;
  transition: all 0.2s ease;
  box-sizing: border-box;
  font-family: inherit;
}

.admin-app-form-input:hover:not(:disabled) {
  border-color: #94a3b8;
}

.admin-app-form-input:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.admin-app-form-input:disabled {
  background: #f1f5f9;
  cursor: not-allowed;
  opacity: 0.7;
}

.admin-app-password-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.admin-app-password-toggle {
  position: absolute;
  right: 12px;
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #64748b;
  transition: color 0.2s;
}

.admin-app-password-toggle:hover:not(:disabled) {
  color: #334155;
}

.admin-app-password-toggle:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.admin-app-error-message {
  padding: 12px 16px;
  background: #fef2f2;
  border: 1px solid #fecaca;
  border-radius: 8px;
  color: #dc2626;
  font-size: 15px;
  text-align: center;
}

.admin-app-login-description {
  font-size: 15px;
  color: #64748b;
  line-height: 1.6;
  margin: 0;
  text-align: center;
}

.admin-app-login-note {
  margin-top: 16px;
  padding: 12px;
  background: #f1f5f9;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
}

.admin-app-note-text {
  font-size: 13px;
  color: #475569;
  margin: 0;
  text-align: center;
  line-height: 1.5;
}

.admin-app-login-divider {
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 20px 0;
}

.admin-app-divider-line {
  flex: 1;
  height: 1px;
  background: #e2e8f0;
}

.admin-app-divider-text {
  font-size: 14px;
  color: #94a3b8;
  font-weight: 500;
}

.admin-app-default-login-button {
  width: 100%;
  padding: 12px 24px;
  background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
}

.admin-app-default-login-button:hover:not(:disabled) {
  background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
  transform: translateY(-1px);
}

.admin-app-default-login-button:active:not(:disabled) {
  transform: translateY(0);
}

.admin-app-default-login-button:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none;
}

.admin-app-login-button {
  width: 100%;
  padding: 14px 24px;
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  margin-top: 8px;
}

.admin-app-login-button:hover:not(:disabled) {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
  transform: translateY(-1px);
}

.admin-app-login-button:active:not(:disabled) {
  transform: translateY(0);
}

.admin-app-login-button:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none;
}

.admin-app-spinner {
  width: 18px;
  height: 18px;
  border: 2px solid rgba(37, 99, 235, 0.2);
  border-top-color: #2563eb;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  display: inline-block;
  flex-shrink: 0;
}

.admin-app-spinner-small {
  width: 16px;
  height: 16px;
  border-width: 2px;
}

.admin-app-spinner-medium {
  width: 24px;
  height: 24px;
  border-width: 3px;
}

.admin-app-spinner-large {
  width: 32px;
  height: 32px;
  border-width: 4px;
}

.admin-app-spinner-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 20px;
}

.admin-app-spinner-inline {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.admin-app-spinner-text {
  font-size: 14px;
  color: #64748b;
  margin: 0;
}

/* Input loading spinner */
.admin-app-input-loading-spinner {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  pointer-events: none;
}

/* Form loading overlay */
.admin-app-form-loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  z-index: 100;
  border-radius: 8px;
  backdrop-filter: blur(2px);
}

.admin-app-form-loading-overlay .admin-app-spinner {
  margin: 0;
}

.admin-app-form-loading-text {
  font-size: 13px;
  color: #64748b;
  font-weight: 500;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Loading Container */
.admin-app-loading-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
}

.admin-app-loading-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid rgba(37, 99, 235, 0.1);
  border-top-color: #2563eb;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

.admin-app-loading-text {
  font-size: 14px;
  color: #64748b;
  margin: 0;
}

.admin-app-wrapper {
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding: 8px 12px 12px;
  /* Accent theme (default) */
  --admin-accent-1: #6366f1;
  --admin-accent-2: #8b5cf6;
  --admin-accent-shadow: rgba(99, 102, 241, 0.25);
  --admin-accent-shadow-hover: rgba(99, 102, 241, 0.35);
  --admin-accent-bar: linear-gradient(90deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
  --admin-accent-soft: rgba(99, 102, 241, 0.10);
  /* Compact header buttons */
  --admin-hbtn-save-bg: #2563eb;
  --admin-hbtn-save-hover: #1d4ed8;
  --admin-hbtn-submit-bg: #10b981;
  --admin-hbtn-submit-hover: #059669;
  --admin-hbtn-create-bg: #6366f1;
  --admin-hbtn-create-hover: #4f46e5;
  /* Mini primary button (inside card actions) */
  --admin-mini-primary-bg: #2563eb;
  --admin-mini-primary-hover: #1d4ed8;
}

/* Mode: SO (Sales Order) */
.admin-app-wrapper.admin-app-mode-so {
  --admin-accent-1: #0284c7;
  --admin-accent-2: #2563eb;
  --admin-accent-shadow: rgba(37, 99, 235, 0.22);
  --admin-accent-shadow-hover: rgba(37, 99, 235, 0.32);
  --admin-accent-bar: linear-gradient(90deg, #0284c7 0%, #2563eb 60%, #22c55e 100%);
  --admin-accent-soft: rgba(37, 99, 235, 0.10);
  /* SO: slightly cooler palette */
  --admin-hbtn-save-bg: #2563eb;
  --admin-hbtn-save-hover: #1d4ed8;
  --admin-hbtn-submit-bg: #0ea5e9;
  --admin-hbtn-submit-hover: #0284c7;
  --admin-hbtn-create-bg: #22c55e;
  --admin-hbtn-create-hover: #16a34a;
  --admin-mini-primary-bg: #2563eb;
  --admin-mini-primary-hover: #1d4ed8;
}

/* Mode: SOBG (Sales Order Báo Giá) */
.admin-app-wrapper.admin-app-mode-sobg {
  --admin-accent-1: #7c3aed;
  --admin-accent-2: #db2777;
  --admin-accent-shadow: rgba(124, 58, 237, 0.22);
  --admin-accent-shadow-hover: rgba(124, 58, 237, 0.32);
  --admin-accent-bar: linear-gradient(90deg, #7c3aed 0%, #db2777 55%, #f59e0b 100%);
  --admin-accent-soft: rgba(124, 58, 237, 0.10);
  /* SOBG: warmer purple/pink palette */
  --admin-hbtn-save-bg: #7c3aed;
  --admin-hbtn-save-hover: #6d28d9;
  --admin-hbtn-submit-bg: #db2777;
  --admin-hbtn-submit-hover: #be185d;
  --admin-hbtn-create-bg: #f59e0b;
  --admin-hbtn-create-hover: #d97706;
  --admin-mini-primary-bg: #7c3aed;
  --admin-mini-primary-hover: #6d28d9;
}

/* Form Type Toggle */
.admin-app-form-toggle {
  display: flex;
  gap: 3px;
  padding: 2px;
  background: rgba(241, 245, 249, 0.8);
  border-radius: 6px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  box-shadow: inset 0 1px 2px rgba(15, 23, 42, 0.04);
  width: fit-content;
}

.admin-app-toggle-btn {
  padding: 2px 8px;
  border-radius: 3px;
  border: none;
  background: transparent;
  color: #64748b;
  cursor: pointer;
  font-size: 9px;
  font-weight: 600;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  white-space: nowrap;
  position: relative;
  letter-spacing: 0.02em;
  line-height: 1.1;
}

.admin-app-toggle-btn:hover:not(.admin-app-toggle-btn-active) {
  background: rgba(255, 255, 255, 0.6);
  color: #475569;
}

.admin-app-toggle-btn-active {
  background: linear-gradient(135deg, var(--admin-accent-1) 0%, var(--admin-accent-2) 100%);
  color: white;
  font-weight: 600;
  box-shadow: 0 1px 4px var(--admin-accent-shadow);
  transform: translateY(-1px);
}

.admin-app-toggle-btn-active:hover {
  box-shadow: 0 2px 6px var(--admin-accent-shadow-hover);
  transform: translateY(-1px);
}

/* Header with Tabs */
.admin-app-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 8px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
  border-radius: 4px;
  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.05), 0 1px 1px rgba(15, 23, 42, 0.02);
  border: 1px solid rgba(148, 163, 184, 0.2);
  backdrop-filter: blur(12px);
  margin-bottom: 6px;
  position: relative;
  overflow: hidden;
  /* Thu hẹp header để bằng với form content */
  margin-left: 8px;
  margin-right: 8px;
}

.admin-app-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--admin-accent-bar);
  opacity: 0.5;
}

/* Subtle accent in compact UI cards to help visually distinguish modes */
.admin-app-wrapper.admin-app-mode-so .admin-app-card-compact::before,
.admin-app-wrapper.admin-app-mode-sobg .admin-app-card-compact::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--admin-accent-1), var(--admin-accent-2));
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
  opacity: 0.9;
}

.admin-app-header-left {
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
}

.admin-app-header-brand {
  display: flex;
  align-items: center;
  gap: 4px;
  flex-wrap: wrap;
}

.admin-app-title {
  font-size: 11px;
  font-weight: 700;
  background: linear-gradient(135deg, #0f172a 0%, #475569 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.2px;
  line-height: 1.1;
}

.admin-app-subtitle {
  font-size: 8px;
  color: #64748b;
  font-weight: 500;
  letter-spacing: 0.01em;
  line-height: 1.1;
}

.admin-app-version {
  display: flex;
  align-items: center;
}

.admin-app-header-right {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

/* User Info */
.admin-app-user-info {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.9) 100%);
  border-radius: 4px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.03);
  transition: all 0.2s ease;
  max-width: 200px;
}

.admin-app-user-info:hover {
  box-shadow: 0 2px 6px rgba(15, 23, 42, 0.06);
  border-color: rgba(148, 163, 184, 0.3);
}

.admin-app-user-avatar {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--admin-accent-1) 0%, var(--admin-accent-2) 70%, #ec4899 100%);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 9px;
  flex-shrink: 0;
  box-shadow: 0 1px 3px var(--admin-accent-shadow);
  position: relative;
}

.admin-app-user-avatar::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 50%;
  padding: 2px;
  background: linear-gradient(135deg, var(--admin-accent-1), var(--admin-accent-2), #ec4899);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.admin-app-user-info:hover .admin-app-user-avatar::after {
  opacity: 0.3;
}

.admin-app-user-details {
  display: flex;
  flex-direction: column;
  gap: 1px;
  min-width: 0;
  flex: 1;
}

.admin-app-user-name {
  font-size: 9px;
  font-weight: 600;
  color: #0f172a;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.1;
}

.admin-app-user-email {
  font-size: 7px;
  color: #64748b;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.1;
}

.admin-app-logout-btn {
  background: rgba(239, 68, 68, 0.08);
  border: 1px solid rgba(239, 68, 68, 0.2);
  color: #dc2626;
  cursor: pointer;
  padding: 2px;
  border-radius: 3px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
}

.admin-app-logout-btn:hover {
  background: rgba(239, 68, 68, 0.12);
  border-color: rgba(239, 68, 68, 0.3);
  color: #b91c1c;
  transform: translateY(-1px);
  box-shadow: 0 1px 4px rgba(239, 68, 68, 0.2);
}

.admin-app-logout-btn:active {
  transform: translateY(0);
  box-shadow: 0 1px 2px rgba(239, 68, 68, 0.15);
}

.admin-app-logout-btn svg {
  width: 12px;
  height: 12px;
}

/* Responsive Header */
@media (max-width: 768px) {
  .admin-app-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 16px;
    padding: 16px;
  }

  .admin-app-header-left {
    width: 100%;
  }

  .admin-app-header-brand {
    flex-wrap: wrap;
  }

  .admin-app-title {
    font-size: 20px;
  }

  .admin-app-subtitle {
    font-size: 13px;
  }

  .admin-app-header-right {
    width: 100%;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 12px;
  }

  .admin-app-form-toggle {
    flex: 1;
    justify-content: center;
  }

  .admin-app-user-info {
    flex: 1;
    min-width: 200px;
    max-width: none;
  }

  .admin-app-user-details {
    flex: 1;
  }
}

@media (max-width: 480px) {
  .admin-app-header {
    padding: 14px;
  }

  .admin-app-title {
    font-size: 18px;
  }

  .admin-app-header-right {
    flex-direction: column;
    width: 100%;
  }

  .admin-app-form-toggle {
    width: 100%;
  }

  .admin-app-toggle-btn {
    flex: 1;
    text-align: center;
  }

  .admin-app-user-info {
    width: 100%;
  }
}

.admin-app-badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.02em;
}

.admin-app-badge-version {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
  color: #6366f1;
  border: 1px solid rgba(99, 102, 241, 0.25);
  font-size: 8px;
  padding: 1px 4px;
  font-weight: 600;
  letter-spacing: 0.05em;
  box-shadow: 0 1px 2px rgba(99, 102, 241, 0.1);
  line-height: 1.1;
}

.admin-app-badge-vat {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-left: 6px;
  padding: 1px 11px;
  border-radius: 999px;
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 0.04em;
  line-height: 1.2;
  vertical-align: middle;
  border: 1px solid transparent;
}

.admin-app-badge-vat.is-vat {
  color: #166534;
  background: rgba(34, 197, 94, 0.12);
  border-color: rgba(34, 197, 94, 0.35);
}

.admin-app-badge-vat.is-non-vat {
  color: #0f172a;
  background: rgba(148, 163, 184, 0.18);
  border-color: rgba(148, 163, 184, 0.35);
}

.admin-app-tabs {
  display: flex;
  gap: 0;
}

.admin-app-tab {
  padding: 8px 16px;
  background: transparent;
  border: none;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  font-size: 15px;
  font-weight: 500;
  color: #666;
  transition: all 0.2s;
}

.admin-app-tab:hover {
  color: #333;
}

.admin-app-tab.active {
  color: #333;
  border-bottom-color: #0078d4;
  font-weight: 600;
}

.admin-app-version {
  font-size: 13px;
  color: #666;
  font-weight: 500;
}

/* Main Content */
.admin-app-content {
  padding: 20px;
  max-width: 100%;
  overflow-x: visible;
}

/* Section */
.admin-app-section {
  background: radial-gradient(circle at top left, #ffffff 0, #f9fafb 55%, #f3f4f6 100%);
  border-radius: 14px;
  padding: 20px 20px 18px;
  margin-bottom: 20px;
  box-shadow: 0 16px 40px rgba(15, 23, 42, 0.08);
  border: 1px solid rgba(148, 163, 184, 0.35);
}

.admin-app-section-title {
  font-size: 18px;
  font-weight: 700;
  color: #0f172a;
  margin: 0 0 24px 0;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.4);
  display: flex;
  align-items: center;
  gap: 10px;
  letter-spacing: -0.3px;
}

.admin-app-section-title::before {
  content: '';
  width: 5px;
  height: 22px;
  background: linear-gradient(145deg, #22c55e 0%, #16a34a 45%, #0ea5e9 100%);
  border-radius: 999px;
  flex-shrink: 0;
}

/* Form Rows */
.admin-app-form-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 16px;
  margin-bottom: 20px;
  align-items: start;
}

.admin-app-form-row:last-child {
  margin-bottom: 0;
}

.admin-app-form-row-checkboxes {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 20px;
  margin-top: 12px;
  padding: 12px 14px;
  background: radial-gradient(circle at top left, #f9fafb 0, #e5f3ff 55%, #e0f2fe 100%);
  border-radius: 10px;
  border: 1px solid rgba(125, 211, 252, 0.6);
}

.admin-app-business-flags {
  position: relative;
}

.admin-app-business-flags::before {
  content: "Tuỳ chọn nghiệp vụ";
  position: absolute;
  top: -10px;
  left: 12px;
  padding: 0 6px;
  font-size: 11px;
  font-weight: 600;
  color: #0f172a;
  background: #f9fafb;
  border-radius: 999px;
}

.admin-app-form-row-actions {
  grid-template-columns: auto 1fr auto;
  align-items: start;
}

/* Field Groups */
.admin-app-field-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}

.admin-app-field-group > * {
  flex-shrink: 0;
}

/* Ensure consistent structure for alignment */
.admin-app-field-group .admin-app-dropdown {
  height: 42px;
  box-sizing: border-box;
}

.admin-app-field-group .admin-app-input-wrapper {
  height: 42px;
  box-sizing: border-box;
}

.admin-app-field-group .admin-app-input {
  height: 42px;
  box-sizing: border-box;
}

/* Ensure dropdown trigger aligns with inputs */
.admin-app-field-group .admin-app-dropdown .admin-app-dropdown-trigger {
  height: 42px;
  box-sizing: border-box;
}

/* Error message should not affect input alignment */
.admin-app-error {
  min-height: 16px;
  line-height: 1.2;
  margin-top: 4px;
}

/* Ensure all inputs align at the same baseline */
.admin-app-form-row {
  align-items: flex-start;
}

.admin-app-field-group {
  justify-content: flex-start;
}

.admin-app-field-group-note {
  grid-column: span 2;
}

@media (min-width: 768px) {
  .admin-app-field-group-note {
    grid-column: span 3;
  }
}

.admin-app-field-group-large {
  grid-column: span 1;
}

@media (min-width: 768px) {
  .admin-app-field-group-large {
    grid-column: span 1;
  }
}

/* Labels */
.admin-app-label {
  font-size: 13px;
  font-weight: 600;
  color: #0f172a;
  margin-bottom: 6px;
  letter-spacing: -0.2px;
  height: 20px;
  display: flex;
  align-items: center;
  line-height: 1.2;
}

.admin-app-required {
  color: #ff4444;
  margin-left: 2px;
}

/* Input Wrapper */
.admin-app-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  height: 42px;
}

.admin-app-input-wrapper .admin-app-input {
  height: 100%;
}

/* Inputs */
.admin-app-input {
  width: 100%;
  padding: 10px 14px;
  border: 1.5px solid #d0d7e2;
  border-radius: 8px;
  font-size: 15px;
  color: #0f172a;
  background: white;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  font-family: inherit;
  height: 42px;
  box-sizing: border-box;
  line-height: 1.5;
}

.admin-app-input-number,
.admin-app-input-money {
  text-align: right;
  max-width: 200px;
}

.admin-app-input:hover {
  border-color: #94a3b8;
}

.admin-app-input:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2), 0 2px 6px rgba(15, 23, 42, 0.12);
}

.admin-app-input-wide {
  min-width: 200px;
}

.admin-app-input-readonly {
  background: #f3f4f6;
  cursor: not-allowed;
  color: #495057;
  border-color: #e2e8f0;
  font-weight: 500;
}

/* Dropdown Arrow */
.admin-app-dropdown-arrow {
  position: absolute;
  right: 8px;
  font-size: 10px;
  color: #666;
  pointer-events: none;
  user-select: none;
}

/* Calendar Icon */
.admin-app-calendar-icon {
  position: absolute;
  right: 8px;
  font-size: 14px;
  cursor: pointer;
  user-select: none;
}

/* Hints */
.admin-app-hint {
  font-size: 12px;
  color: #6c757d;
  margin-top: 4px;
  font-style: italic;
  min-height: 14px;
  line-height: 1.2;
  display: flex;
  align-items: center;
  position: relative;
  z-index: 0;
}

.admin-app-hint-warning {
  font-size: 14px;
  color: #dc2626;
  font-weight: 700;
  font-style: normal;
  min-height: auto;
  line-height: 1.3;
  position: relative;
  z-index: 0;
}

/* Checkboxes */
.admin-app-checkbox-group {
  display: flex;
  align-items: center;
  gap: 8px;
}

.admin-app-checkbox {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: #0078d4;
  border-radius: 3px;
}

.admin-app-checkbox-label {
  font-size: 14px;
  color: #2c3e50;
  cursor: pointer;
  user-select: none;
  font-weight: 500;
}

/* Action Buttons */
.admin-app-action-buttons {
  display: flex;
  gap: 10px;
  margin-left: auto;
  align-items: center;
}

.admin-app-action-btn {
  width: 40px;
  height: 40px;
  border: 1.5px solid rgba(148, 163, 184, 0.6);
  border-radius: 999px;
  background: radial-gradient(circle at 30% 0%, #ffffff 0, #f8fafc 40%, #e5e7eb 100%);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  font-size: 18px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

.admin-app-action-btn:hover:not(:disabled) {
  background: radial-gradient(circle at 30% 0%, #ffffff 0, #eff6ff 45%, #dbeafe 100%);
  border-color: #2563eb;
  box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
  transform: translateY(-1px);
}

.admin-app-action-btn:active:not(:disabled) {
  transform: translateY(0);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.admin-app-action-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  pointer-events: none;
  background: #e5e7eb;
  border-color: #d1d5db;
  box-shadow: none;
}

.admin-app-action-btn-add:hover:not(:disabled) {
  background: radial-gradient(circle at 30% 0%, #ecfdf3 0, #bbf7d0 40%, #4ade80 100%);
  border-color: #16a34a;
}

.admin-app-action-btn-save:hover:not(:disabled) {
  background: radial-gradient(circle at 30% 0%, #eff6ff 0, #bfdbfe 40%, #60a5fa 100%);
  border-color: #2563eb;
}

.admin-app-action-btn-refresh:hover:not(:disabled) {
  background: radial-gradient(circle at 30% 0%, #fff7ed 0, #fed7aa 40%, #fdba74 100%);
  border-color: #f97316;
}

.admin-app-action-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  line-height: 1;
}

.admin-app-action-btn-save .admin-app-action-icon {
  font-size: 16px;
}

/* Table Container */
.admin-app-table-container {
  background: #f9fafb;
  border-radius: 10px;
  padding: 16px;
  border: 1px solid #e5e7eb;
  overflow-x: auto;
}

/* Table */
.admin-app-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  min-width: 1200px;
}

.admin-app-table thead {
  background: linear-gradient(120deg, #0ea5e9 0%, #2563eb 40%, #22c55e 100%);
  color: white;
  position: sticky;
  top: 0;
  z-index: 1;
}

.admin-app-table th {
  padding: 10px 8px;
  text-align: left;
  font-weight: 600;
  font-size: 13px;
  white-space: nowrap;
  border-right: 1px solid rgba(255, 255, 255, 0.2);
}

.admin-app-table th:last-child {
  border-right: none;
}

.admin-app-table tbody tr {
  border-bottom: 1px solid #e5e7eb;
  transition: background-color 0.2s, box-shadow 0.2s;
}

.admin-app-table tbody tr:hover {
  background: #f1f5f9;
  box-shadow: inset 4px 0 0 #22c55e;
}

.admin-app-table td {
  padding: 10px 8px;
  color: #0f172a;
  border-right: 1px solid #e5e7eb;
}

.admin-app-cell-right {
  text-align: right;
}

/* Summary Bar */
.admin-app-summary-bar {
  margin-top: 12px;
  margin-bottom: 20px;
  padding: 12px 16px;
  border-radius: 10px;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(34, 197, 94, 0.05));
  border: 1px solid rgba(148, 163, 184, 0.6);
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  align-items: center;
  justify-content: flex-end;
}

.admin-app-summary-item {
  display: flex;
  flex-direction: column;
  min-width: 140px;
}

.admin-app-summary-label {
  font-size: 13px;
  color: #64748b;
}

.admin-app-summary-value {
  font-size: 15px;
  font-weight: 600;
  color: #0f172a;
}

.admin-app-summary-total .admin-app-summary-value {
  font-size: 19px;
  color: #0f172a;
}

/* Sticky Footer CTA removed theo yêu cầu */

.admin-app-table td:last-child {
  border-right: none;
}

.admin-app-table-empty {
  text-align: center;
  padding: 40px !important;
  color: #999;
  font-style: italic;
}

/* Delete Button */
.admin-app-delete-btn {
  padding: 4px 12px;
  background: #ff4444;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  transition: background-color 0.2s;
}

.admin-app-delete-btn:hover {
  background: #cc0000;
}

/* Dropdown Styles */
.admin-app-dropdown {
  position: relative;
  width: 100%;
  z-index: 1;
}

.admin-app-dropdown.is-open {
  z-index: 10000;
  position: relative;
}

.admin-app-dropdown-trigger {
  width: 100%;
  padding: 10px 14px;
  border: 1.5px solid #d1d1d1;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 15px;
  color: #2c3e50;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  font-family: inherit;
  min-height: 42px;
  height: auto;
  box-sizing: border-box;
  line-height: 1.5;
  position: relative;
  z-index: 1;
}

.admin-app-dropdown.is-open .admin-app-dropdown-trigger {
  z-index: 10001;
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.admin-app-dropdown-trigger:hover:not(:disabled) {
  border-color: #b0b0b0;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
}

.admin-app-dropdown-trigger:focus:not(:disabled) {
  border-color: #0078d4;
  box-shadow: 0 0 0 3px rgba(0, 120, 212, 0.12), 0 2px 4px rgba(0, 0, 0, 0.08);
}

.admin-app-dropdown-trigger:disabled {
  background: #f5f5f5;
  cursor: not-allowed;
  color: #999;
}

.admin-app-dropdown-value {
  flex: 1;
  text-align: left;
  overflow: visible;
  text-overflow: clip;
  white-space: normal;
  word-wrap: break-word;
  word-break: break-word;
  min-width: 0;
  max-width: none;
  line-height: 1.4;
}

.admin-app-dropdown-menu {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: white;
  border: 1px solid #d1d1d1;
  border-radius: 4px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2), 0 2px 8px rgba(0, 0, 0, 0.1);
  z-index: 99999 !important;
  max-height: 300px;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  margin-top: 4px;
  word-wrap: break-word;
}

.admin-app-dropdown-menu.admin-app-dropdown-menu-portal {
  /* Rendered via portal to <body> to avoid clipping/scroll and stacking-context issues */
  position: fixed !important;
  top: var(--dd-top) !important;
  left: var(--dd-left) !important;
  right: auto !important;
  width: var(--dd-width) !important;
  max-height: var(--dd-max-height) !important;
  margin-top: 0 !important;
  z-index: 200000 !important;
}

/* Ensure dropdown doesn't overlap hints in compact fields */
.admin-app-field-compact .admin-app-dropdown-menu {
  z-index: 99999 !important;
  margin-top: 4px;
  position: absolute !important;
}

/* Ensure dropdown container has proper positioning */
.admin-app-dropdown {
  position: relative;
  z-index: 1;
}

.admin-app-dropdown.is-open {
  z-index: 10000;
}

.admin-app-dropdown-search {
  padding: 8px;
  border-bottom: 1px solid #e5e5e5;
}

.admin-app-dropdown-search-input {
  width: 100%;
  padding: 6px 8px;
  border: 1px solid #d1d1d1;
  border-radius: 4px;
  font-size: 14px;
  outline: none;
}

.admin-app-dropdown-search-input:focus {
  border-color: #0078d4;
}

.admin-app-dropdown-options {
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 250px;
  word-wrap: break-word;
}

.admin-app-dropdown-option {
  padding: 10px 12px;
  cursor: pointer;
  font-size: 14px;
  color: #333;
  transition: background-color 0.2s;
  border-bottom: 1px solid #f0f0f0;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 8px;
  word-wrap: break-word;
  overflow-x: hidden;
}

.admin-app-dropdown-option-label {
  flex: 1 1 auto;
  min-width: 0;
  overflow: visible;
  text-overflow: clip;
  white-space: normal;
  word-wrap: break-word;
  word-break: break-word;
  line-height: 1.4;
}

.admin-app-dropdown-option-meta {
  flex: 0 0 auto;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.15s ease;
}

.admin-app-dropdown-option:hover .admin-app-dropdown-option-meta {
  opacity: 1;
  pointer-events: auto;
}

.admin-app-dropdown-option-meta-text {
  font-size: 13px;
  color: #555;
  background: #fff;
  border: 1px solid #e2e2e2;
  border-radius: 999px;
  padding: 2px 8px;
  user-select: text;
  cursor: text;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.admin-app-dropdown-copy-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 6px;
  border: 1px solid #e2e2e2;
  background: #fff;
  color: #333;
  cursor: pointer;
  font-size: 12px;
  line-height: 1;
}

.admin-app-dropdown-copy-btn:hover {
  background: #f3f3f3;
}

.admin-app-dropdown-copy-btn:active {
  transform: translateY(0.5px);
}

.admin-app-dropdown-option:last-child {
  border-bottom: none;
}

.admin-app-dropdown-option:hover {
  background: #f5f5f5;
}

.admin-app-dropdown-option.selected {
  background: #e3f2fd;
  color: #0078d4;
  font-weight: 500;
}

.admin-app-dropdown-loading {
  padding: 20px;
  text-align: center;
  color: #64748b;
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  min-height: 80px;
}

.admin-app-dropdown-loading .admin-app-spinner {
  margin: 0 auto;
}

.admin-app-dropdown-empty {
  padding: 20px;
  text-align: center;
  color: #999;
  font-size: 14px;
}

/* Update input wrapper to work with dropdown */
.admin-app-input-wrapper .admin-app-dropdown {
  position: relative;
}

.admin-app-input-wrapper .admin-app-dropdown-trigger {
  border: 1px solid #d1d1d1;
}

/* Responsive */
@media (max-width: 768px) {
  .admin-app-content {
    padding: 12px;
  }

  .admin-app-form-row {
    flex-direction: column;
    gap: 12px;
  }

  .admin-app-field-group {
    width: 100%;
    min-width: 100%;
  }

  .admin-app-action-buttons {
    margin-left: 0;
    width: 100%;
    justify-content: flex-end;
  }

  .admin-app-table-container {
    overflow-x: scroll;
  }

  .admin-app-dropdown-menu {
    max-height: 250px;
  }
}

/* ============================================
   COMPACT LAYOUT - NO SCROLL DESIGN
   ============================================ */

/* Main Container - No Scroll */
.admin-app-compact-layout {
  display: flex;
  flex-direction: column;
  /* Allow layout to grow so left/right columns can expand instead of showing inner scrollbars */
  height: auto;
  min-height: 100%;
  max-height: none;
  overflow: visible;
  background: #F7F9FC;
  padding: 0;
  margin: 0;
  position: relative;
  z-index: 0;
  gap: 0;
}

/* Ensure wrapper allows dropdown overflow */
.admin-app-wrapper {
  /* Let wrapper expand with content to avoid inner scrollbars inside cards */
  overflow: visible !important;
  position: relative;
  height: auto;
  max-height: none;
}

/* Ensure root elements occupy full height so our calc sizing works reliably */
html, body, #__next {
  height: 100%;
}

/* Layout: make wrapper a column so content and table can be sized independently */
.admin-app-wrapper {
  display: flex;
  flex-direction: column;
}

/* Content area should take remaining space and avoid page scroll */
.admin-app-content-compact {
  flex: 1 1 auto;
  display: flex;
  overflow: hidden;
}

/* Keep table area at bottom and scroll internally */
.admin-app-table-wrapper {
  flex: 0 0 260px; /* fixed area for table; adjust as needed */
  overflow: auto;
}

/* Content containers must allow dropdown overflow */
.admin-app-content-compact {
  overflow: visible !important;
}

.admin-app-column-left,
.admin-app-column-right {
  overflow: visible !important;
  min-height: 0; /* allow flex children to shrink and avoid internal scrollbars */
}

/* Responsive: on smaller viewports, make content fit viewport and let left column scroll.
   Ensure product info (right column) expands to show full details without internal scroll. */
@media (max-width: 1200px), (max-height: 900px) {
  .admin-app-content-compact {
    height: calc(100vh - 56px); /* reserve space for top header */
    display: flex;
    overflow: hidden; /* avoid page-level scroll */
  }

  /* Left column can scroll if it overflows, but keep fixed width */
  .admin-app-column-left {
    flex: 0 0 320px;
    max-height: 100%;
    overflow: auto;
    min-height: 0;
  }

  /* Right column should expand to full available height and not introduce internal scroll */
  .admin-app-column-right {
    flex: 1 1 auto;
    min-width: 0;
    max-height: 100%;
    overflow: visible;
    display: flex;
    flex-direction: column;
    min-height: 0;
  }

  /* Make the product card and its form layout stretch to available height */
  .admin-app-column-right .admin-app-card-compact {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
  }

  /* Form area should use remaining space but avoid its own scrollbar; inputs will flow */
  .admin-app-column-right .admin-app-form-compact {
    flex: 0 0 auto;
    overflow: visible;
  }

  /* Keep table wrapper at bottom but allow page to avoid extra height */
  .admin-app-table-wrapper {
    flex: 0 0 auto;
  }
}

/* Compact Header - 40px */
.admin-app-header-compact {
  height: 40px;
  min-height: 40px;
  max-height: 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 8px;
  background: white;
  border-bottom: 1px solid #e2e8f0;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  flex-shrink: 0;
}

.admin-app-header-compact-left {
  display: flex;
  align-items: center;
  gap: 6px;
}

.admin-app-title-compact {
  font-size: 13px;
  font-weight: 700;
  color: #0f172a;
  letter-spacing: -0.2px;
  line-height: 1;
}

.admin-app-status-badge {
  padding: 1px 6px;
  border-radius: 6px;
  font-size: 9px;
  font-weight: 600;
  background: #f1f5f9;
  color: #64748b;
  border: 1px solid #e2e8f0;
  line-height: 1.4;
}

.admin-app-header-compact-right {
  display: flex;
  align-items: center;
  gap: 4px;
  justify-content: flex-end;
}

.admin-app-header-btn {
  height: 28px;
  padding: 0 10px;
  border-radius: 8px;
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: white;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;
  line-height: 1.2;
  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.06);
}

.admin-app-header-btn:hover:not(:disabled) {
  background: #f8fafc;
  border-color: #94a3b8;
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(15, 23, 42, 0.10);
}

.admin-app-header-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.admin-app-header-btn-save {
  background: var(--admin-hbtn-save-bg);
  color: white;
  border-color: var(--admin-hbtn-save-bg);
}

.admin-app-header-btn-save .admin-app-spinner {
  border-color: rgba(255, 255, 255, 0.3);
  border-top-color: white;
}

.admin-app-header-btn-save:hover:not(:disabled) {
  background: var(--admin-hbtn-save-hover);
}

.admin-app-header-btn-submit {
  background: var(--admin-hbtn-submit-bg);
  color: white;
  border-color: var(--admin-hbtn-submit-bg);
}

.admin-app-header-btn-submit:hover:not(:disabled) {
  background: var(--admin-hbtn-submit-hover);
}

.admin-app-header-btn-submit .admin-app-spinner {
  border-color: rgba(255, 255, 255, 0.3);
  border-top-color: white;
}

.admin-app-header-btn-create {
  background: var(--admin-hbtn-create-bg);
  color: white;
  border-color: var(--admin-hbtn-create-bg);
}

.admin-app-header-btn-create:hover:not(:disabled) {
  background: var(--admin-hbtn-create-hover);
}

.admin-app-header-btn-create .admin-app-spinner {
  border-color: rgba(255, 255, 255, 0.3);
  border-top-color: white;
}

/* 2 Columns Layout */
.admin-app-content-compact {
  display: flex;
  gap: 8px;
  padding: 8px 8px 0 8px;
  flex: 1;
  min-height: 0;
  /* Allow content to grow vertically so cards can expand (no inner scroll) */
  max-height: none;
  overflow: visible !important;
  align-items: stretch;
  position: relative;
}

/* Reveal button when Order Info panel is collapsed */
.admin-app-orderinfo-reveal {
  position: absolute;
  left: 6px;
  top: 10px;
  z-index: 50;
  width: 30px;
  height: 30px;
  border-radius: 10px;
  border: 1px solid rgba(15, 23, 42, 0.12);
  background: white;
  color: #334155;
  cursor: pointer;
  font-weight: 800;
  box-shadow: 0 2px 10px rgba(15, 23, 42, 0.12);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.admin-app-orderinfo-reveal:hover {
  border-color: rgba(15, 23, 42, 0.22);
  transform: translateY(-1px);
}

.admin-app-wrapper.admin-app-mode-so .admin-app-orderinfo-reveal {
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 2px 10px rgba(37, 99, 235, 0.18);
  border-color: rgba(37, 99, 235, 0.25);
}

.admin-app-wrapper.admin-app-mode-sobg .admin-app-orderinfo-reveal {
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 2px 10px rgba(124, 58, 237, 0.18);
  border-color: rgba(124, 58, 237, 0.25);
}

.admin-app-column-left {
  width: 30%;
  min-width: 280px;
  max-width: 360px;
  display: flex;
  flex-direction: column;
  overflow: visible;
  flex-shrink: 0;
  position: relative;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateX(0);
  opacity: 1;
  visibility: visible;
  min-height: 0;
}

/* Collapsed: Slide out to the left */
.admin-app-column-left.admin-app-column-collapsed {
  width: 0 !important;
  min-width: 0 !important;
  max-width: 0 !important;
  margin-right: 0 !important;
  padding: 0 !important;
  opacity: 0;
  transform: translateX(-100%);
  pointer-events: none;
  overflow: hidden;
  visibility: hidden;
}

.admin-app-column-right {
  width: 70%;
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  overflow: visible;
  min-height: 0;
  position: relative;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1), flex 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* When left column is collapsed, right column expands */
.admin-app-content-compact:has(.admin-app-column-collapsed) .admin-app-column-right {
  width: 100% !important;
  flex: 1;
}

/* Compact Card */
.admin-app-card-compact {
  background: white;
  border-radius: 6px;
  padding: 10px;
  padding-bottom: 20px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  border: 1px solid #e2e8f0;
  display: flex;
  flex-direction: column;
  gap: 12px;
  /* Allow card to grow vertically with its content to prevent internal scrollbars */
  height: auto;
  max-height: none;
  overflow: visible;
  position: relative;
  min-height: 0;
  flex: 1 1 auto;
  box-sizing: border-box;
  /* Allow vertical scroll if needed */
  /* Allow dropdown to overflow horizontally */
  /* Applied to both "Thông tin đơn hàng" and "Thông tin sản phẩm" */
}

/* Ensure note field at bottom doesn't overlap */
.admin-app-card-compact > .admin-app-form-row-compact.admin-app-note-field {
  margin-top: 16px !important;
  padding-top: 16px !important;
  padding-bottom: 8px !important;
  margin-bottom: 0;
  border-top: 1px solid #e2e8f0;
  flex-shrink: 0;
  position: relative;
  z-index: 1;
  order: 999;
}

/* Collapsed card - no longer needed, using column collapse instead */

/* Ensure card content doesn't get cut off */
.admin-app-card-compact > * {
  position: relative;
  z-index: 0;
}

/* Prevent dropdown from being clipped - use higher z-index */
.admin-app-card-compact .admin-app-dropdown {
  overflow: visible !important;
  position: relative;
  z-index: 1;
}

.admin-app-card-compact .admin-app-dropdown.is-open {
  z-index: 100000 !important;
  position: relative;
}

.admin-app-card-compact .admin-app-dropdown-menu {
  overflow-y: auto !important;
  overflow-x: visible !important;
  position: absolute !important;
  z-index: 99999 !important;
  /* Ensure menu is above everything and can overflow */
  clip: none !important;
  clip-path: none !important;
}

.admin-app-card-title {
  font-size: 14px;
  font-weight: 700;
  color: #0f172a;
  margin: 0;
  padding-bottom: 4px;
  border-bottom: 1px solid #e2e8f0;
}

.admin-app-card-title-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding-bottom: 4px;
  border-bottom: 1px solid #e2e8f0;
}

.admin-app-card-title-row .admin-app-card-title {
  border-bottom: none;
  padding-bottom: 0;
  flex: 1;
}

.admin-app-card-actions {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.admin-app-card-actions-block {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 4px;
  flex-shrink: 0;
}

/* Reduce unexpected large gap between card header and form content */
.admin-app-card-compact .admin-app-card-title-row + .admin-app-form-compact {
  margin-top: 0;
  padding-top: 6px;
}
.admin-app-card-compact .admin-app-form-compact {
  margin-top: 0;
  padding-top: 0;
}

.admin-app-disabled-reason-actions {
  max-width: 280px;
}

.admin-app-mini-btn {
  height: 28px;
  padding: 0 10px;
  border-radius: 8px;
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: white;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  line-height: 1.2;
  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.06);
}

.admin-app-mini-btn-add {
  min-width: 28px;
  width: auto;
  padding: 0 12px;
  justify-content: center;
  font-size: 14px;
  font-weight: 700;
  color: white;
  background: #059669 !important;
  border-color: #059669 !important;
  box-shadow: 0 2px 8px rgba(5, 150, 105, 0.3) !important;
}

.admin-app-mini-btn-add:not(:has(.admin-app-spinner)) {
  width: auto;
  padding: 0 12px;
}

.admin-app-mini-btn-add:hover:not(:disabled) {
  background: #047857 !important;
  border-color: #047857 !important;
  box-shadow: 0 4px 12px rgba(5, 150, 105, 0.4) !important;
  transform: translateY(-1px);
}

.admin-app-mini-btn-add:active:not(:disabled) {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(5, 150, 105, 0.3) !important;
}

.admin-app-mini-btn:hover:not(:disabled) {
  background: #f8fafc;
  border-color: #94a3b8;
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(15, 23, 42, 0.10);
}

.admin-app-mini-btn:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.admin-app-mini-btn-primary {
  background: var(--admin-mini-primary-bg);
  color: white;
  border-color: var(--admin-mini-primary-bg);
}

.admin-app-mini-btn-primary:hover:not(:disabled) {
  background: var(--admin-mini-primary-hover);
}

.admin-app-mini-btn-primary .admin-app-spinner {
  border-color: rgba(255, 255, 255, 0.3);
  border-top-color: white;
}

.admin-app-mini-btn-secondary {
  background: rgba(15, 23, 42, 0.04);
  color: #0f172a;
}

/* Collapsible Card Header */
.admin-app-card-header-collapsible {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  user-select: none;
  padding: 8px 10px;
  margin: -10px -10px 10px -10px;
  border-bottom: 1px solid #e2e8f0;
  transition: all 0.2s;
  border-radius: 6px 6px 0 0;
  background: #f8fafc;
}

.admin-app-card-header-collapsible:hover {
  background: #f1f5f9;
}

.admin-app-card-header-collapsible .admin-app-card-title {
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 0;
  flex: 1;
  font-size: 12px;
  font-weight: 700;
}

.admin-app-collapse-btn {
  background: rgba(0, 0, 0, 0.06);
  border: 1px solid rgba(0, 0, 0, 0.1);
  cursor: pointer;
  font-size: 11px;
  color: #475569;
  padding: 4px 8px;
  border-radius: 4px;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 28px;
  height: 24px;
  flex-shrink: 0;
  font-weight: 600;
}

.admin-app-collapse-btn:hover {
  background: rgba(0, 0, 0, 0.1);
  color: #0f172a;
  border-color: rgba(0, 0, 0, 0.2);
  transform: scale(1.05);
}

/* Collapsed Card */
.admin-app-card-collapsed {
  min-height: auto;
}

/* Summary removed - using slide out instead */

/* Compact Form */
.admin-app-form-compact {
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow: visible;
  flex: 1;
  min-height: 0;
  flex-shrink: 0;
}

.admin-app-form-row-compact {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
  align-items: start;
  min-height: fit-content;
  margin-bottom: 0;
}

/* Product Entry: lock column ratios so fields don't wrap awkwardly */
.admin-app-product-row-1 {
  /* Layout for product entry: product | unit | warehouse | delivery date */
  grid-template-columns: minmax(320px, 2.2fr) minmax(140px, 1fr) minmax(140px, 1fr) minmax(120px, 0.8fr);
}

/* Override global spans inside the product row to keep 3-column balance */
.admin-app-product-row-1 .admin-app-field-product {
  grid-column: auto;
}

.admin-app-product-row-2 {
  /* Make first three columns equal width so Số lượng / Giá / VAT align symmetrically */
  grid-template-columns: minmax(120px, 1fr) minmax(120px, 1fr) minmax(120px, 1fr) minmax(220px, 1.2fr) minmax(60px, 0.4fr);
  align-items: start;
  gap: 8px; /* Đồng nhất khoảng cách */
}

/* Approval row (Phương thức / Chiết khấu / Người duyệt) styling for even alignment */
.admin-app-form-row-approval {
  display: grid;
  /* Wider left/right columns and fixed-ish middle for filter + numeric input */
  grid-template-columns: minmax(260px, 1fr) minmax(120px, 240px) minmax(260px, 1fr);
  gap: 16px;
  /* Ensure fixed row height so error text doesn't push siblings */
  align-items: start;
  grid-auto-rows: minmax(72px, auto);
  padding-bottom: 12px;
}

.admin-app-form-row-approval .admin-app-field-compact {
  margin-bottom: 0;
}

.admin-app-form-row-approval .admin-app-input-compact,
.admin-app-form-row-approval .admin-app-input,
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-trigger,
.admin-app-form-row-approval .admin-app-input-wrapper {
  height: 44px;
  min-height: 44px;
  box-sizing: border-box;
  padding: 8px 12px;
  font-size: 15px;
}

/* Make the small numeric discount input match height and center vertically */
.admin-app-form-row-approval .admin-app-field-compact > div > div > div > input[type="number"] {
  height: 44px;
  padding: 8px 10px;
  box-sizing: border-box;
  font-size: 15px;
}

/* Ensure dropdowns' triggers align vertically with inputs */
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-trigger {
  display: flex;
  align-items: center;
  padding: 8px 12px;
}

/* Error text under approver should not push layout unexpectedly */
.admin-app-form-row-approval .admin-app-error-inline {
  margin-top: 6px;
  font-size: 12px;
}

/* Fine tune middle filter + number layout */
.admin-app-form-row-approval .admin-app-field-compact > div {
  display: flex;
  align-items: center;
  gap: 8px;
}

.admin-app-form-row-approval .admin-app-field-compact .admin-app-mini-btn,
.admin-app-form-row-approval .admin-app-field-compact .admin-app-action-btn {
  width: 40px;
  height: 40px;
  min-width: 40px;
  min-height: 40px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
}

/* Fix: ensure approval-row controls keep taller height and vertical alignment
   (override generic compact field rules that later reduce heights) */
.admin-app-form-row-approval .admin-app-dropdown,
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-trigger,
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-value,
.admin-app-form-row-approval .admin-app-input,
.admin-app-form-row-approval .admin-app-input-compact,
.admin-app-form-row-approval .admin-app-input-wrapper {
  height: 44px;
  min-height: 44px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 8px 12px;
}

.admin-app-form-row-approval .admin-app-field-discount-group input[type="number"] {
  height: 44px;
  min-height: 44px;
  padding: 8px 10px;
  box-sizing: border-box;
}

.admin-app-form-row-approval input[type="number"] {
  height: 40px;
  min-height: 40px;
  padding: 8px 10px;
  box-sizing: border-box;
  font-size: 15px;
}

/* Ensure dropdown trigger text vertically centered */
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-value {
  display: inline-flex;
  align-items: center;
  height: 40px;
}

/* Force approval-row dropdowns to take full available width and prevent wrapping */
.admin-app-form-row-approval .admin-app-dropdown {
  width: 100%;
  min-width: 0;
  max-width: 100%;
}
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-trigger {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-value {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Discount group: make dropdown take remaining space and numeric input fixed */
.admin-app-form-row-approval .admin-app-field-discount-group > div {
  display: flex;
  align-items: center;
  gap: 8px;
}
.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-dropdown {
  flex: 1 1 auto;
  min-width: 0;
}
.admin-app-form-row-approval .admin-app-field-discount-group input[type="number"] {
  flex: 0 0 100px;
  width: 100px;
}
.admin-app-form-row-approval .admin-app-field-discount-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}
.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-label-inline {
  margin-bottom: 4px;
  font-size: 13px;
}
/* Right-align group label so it appears above the numeric input */
.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-label-inline {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding-right: 6px;
}

/* Reduce label-bottom spacing in approval row to tighten layout */
.admin-app-form-row-approval .admin-app-label-inline {
  margin-bottom: 4px;
}

/* Reserve space for inline error messages and style mini buttons */
.admin-app-form-row-approval .admin-app-field-compact {
  position: relative;
  min-height: 72px;
}
.admin-app-form-row-approval .admin-app-error-inline {
  position: absolute;
  left: 0;
  bottom: 6px;
  font-size: 12px;
  color: #dc2626;
}
.admin-app-form-row-approval .admin-app-field-compact .admin-app-mini-btn,
.admin-app-form-row-approval .admin-app-field-compact .admin-app-action-btn {
  border: 1.5px solid #d0d7e2;
  background: #fff;
  color: #64748b;
}

/* Reduce widths of specific inputs in Row 2 (Quantity, Price, VAT, Add) */
.admin-app-product-row-2 .admin-app-input-compact,
.admin-app-product-row-2 .admin-app-input-money,
.admin-app-product-row-2 .admin-app-input-number,
.admin-app-product-row-2 .admin-app-input {
  width: 100%;
  max-width: 100%;
}

/* Increase inner font-size and padding for better readability */
.admin-app-product-row-2 .admin-app-input-compact,
.admin-app-product-row-2 .admin-app-input-money,
.admin-app-product-row-2 .admin-app-input-number,
.admin-app-product-row-2 .admin-app-input {
  font-size: 14px;
  padding: 8px 10px;
  height: 36px;
  box-sizing: border-box;
}

/* Make discounted/amount/total fields more prominent */
.admin-app-field-discounted-price .admin-app-input,
.admin-app-field-total .admin-app-input,
.admin-app-field-grand-total .admin-app-input {
  font-size: 16px;
  font-weight: 700;
  padding: 10px 12px;
  height: 40px;
  box-sizing: border-box;
}

/* Specifically enlarge Quantity, Price and VAT inputs in Row 2 */
.admin-app-product-row-2 .admin-app-input-number, /* Quantity */
.admin-app-product-row-2 .admin-app-input-money,   /* Price */
.admin-app-product-row-2 .admin-app-field-vat .admin-app-input { /* VAT */
  font-size: 16px;
  font-weight: 700;
  padding: 10px 12px;
  height: 40px;
  box-sizing: border-box;
  width: auto;   /* let grid control width */
  max-width: none;
}

.admin-app-product-row-3 {
  grid-template-columns: 1fr;
}

.admin-app-field-add-button {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 0;
  min-width: 0;
  min-height: fit-content;
  position: relative;
  margin-bottom: 0;
  padding-bottom: 4px;
  padding-top: 0;
}

.admin-app-field-add-button > .admin-app-label-inline {
  position: relative;
  z-index: 10;
  display: block;
  width: 100%;
  margin-bottom: 4px;
  margin-top: 0;
  padding-bottom: 0;
  line-height: 1.3;
  min-height: 16px;
  height: 16px;
  flex-shrink: 0;
  order: 1;
  pointer-events: none;
}

.admin-app-field-add-button > button {
  order: 2;
  margin-top: 0;
  margin-bottom: 0;
  flex-shrink: 0;
  height: 28px;
  min-height: 28px;
}

.admin-app-field-add-button > .admin-app-disabled-reason {
  order: 3;
  margin-top: 2px;
  margin-bottom: 0;
  min-height: 12px;
}

.admin-app-product-row-3 .admin-app-field-promotion {
  grid-column: 1;
  width: 100%;
}

@media (max-width: 1280px) {
  .admin-app-product-row-1 {
    grid-template-columns: 1.6fr 1fr;
  }
  .admin-app-product-row-2 {
    grid-template-columns: 1fr 1fr;
  }
  .admin-app-product-row-2 .admin-app-field-add-button {
    grid-column: span 1;
  }
  .admin-app-product-row-3 {
    grid-template-columns: 1fr;
  }
}

/* Ensure rows have enough space for labels below */
.admin-app-form-row-compact > .admin-app-field-compact {
  min-height: auto;
  padding-bottom: 4px;
  margin-bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

/* Ensure all fields in row 2 align properly */
.admin-app-product-row-2 > .admin-app-field-compact {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

.admin-app-form-row-mini {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.admin-app-form-row-mini .admin-app-field-span-2 {
  grid-column: span 2;
}

.admin-app-form-row-compact .admin-app-field-span-full {
  grid-column: 1 / -1;
  width: 100%;
}

.admin-app-form-row-summary {
  /* Align summary grid with product-row-2 columns so boxes sit under inputs */
  grid-template-columns: minmax(120px, 1fr) minmax(120px, 1fr) minmax(120px, 1fr) minmax(220px, 1.2fr) minmax(60px, 0.4fr);
  align-items: center;
  gap: 12px;
}

.admin-app-form-row-summary-no-stock {
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
}


/* Place each summary field under the desired column for visual alignment */
.admin-app-form-row-summary .admin-app-field-discounted-price { grid-column: 2 / 3; }
.admin-app-form-row-summary .admin-app-field-total { grid-column: 3 / 4; }
.admin-app-form-row-summary .admin-app-field-grand-total { grid-column: 4 / 5; }
.admin-app-form-row-summary .admin-app-field-note { grid-column: 5 / 6; }

.admin-app-form-row-summary .admin-app-field-compact { width: 100%; }

/* ===== Normalize product entry input dimensions & typography =====
   Ensure inputs across product rows and summary row share consistent
   height, padding and font-size for balanced visual alignment. */
.admin-app-product-row-1 .admin-app-input,
.admin-app-product-row-1 .admin-app-input-compact,
.admin-app-product-row-2 .admin-app-input,
.admin-app-product-row-2 .admin-app-input-compact,
.admin-app-form-row-summary .admin-app-input,
.admin-app-form-row-summary .admin-app-input-compact {
  height: 40px;
  min-height: 40px;
  padding: 8px 12px;
  font-size: 15px;
  line-height: 1.2;
  box-sizing: border-box;
}

/* Align labels baseline and spacing inside product area */
.admin-app-product-row-1 .admin-app-label-inline,
.admin-app-product-row-2 .admin-app-label-inline,
.admin-app-form-row-summary .admin-app-label-inline {
  font-size: 13px;
  margin-bottom: 6px;
  display: block;
}

/* Slightly larger for key numeric fields to improve readability */
.admin-app-product-row-2 .admin-app-input-number,
.admin-app-product-row-2 .admin-app-input-money,
.admin-app-form-row-summary .admin-app-input-total,
.admin-app-form-row-summary .admin-app-input-money {
  font-size: 16px;
  font-weight: 600;
}

/* Ensure readOnly money displays align vertically with inputs */
.admin-app-input-readonly.admin-app-input-money,
.admin-app-input-readonly.admin-app-input-total {
  padding-top: 8px;
  padding-bottom: 8px;
}

.admin-app-inventory-under-product {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 4px;
  margin-bottom: 2px;
  font-size: 12px;
  line-height: 1.4;
  color: #64748b;
  order: 3;
  min-height: 16px;
  visibility: visible;
  opacity: 1;
  flex-wrap: wrap;
}

.admin-app-field-product .admin-app-badge-error {
  order: 4;
}

.admin-app-inventory-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.admin-app-form-row-approval {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid #e2e8f0;
  gap: 10px;
  align-items: start;
}

.admin-app-field-compact {
  display: flex;
  flex-direction: column;
  gap: 0;
  min-width: 0;
  min-height: fit-content;
  position: relative;
  margin-bottom: 0;
  padding-bottom: 4px;
  padding-top: 0;
}

/* Label ở trên - luôn hiển thị đầu tiên */
.admin-app-field-compact > .admin-app-label-inline {
  position: relative;
  z-index: 10;
  display: block;
  width: 100%;
  margin-bottom: 4px;
  margin-top: 0;
  padding-bottom: 0;
  line-height: 1.3;
  min-height: 16px;
  flex-shrink: 0;
  order: 1;
  pointer-events: none;
}

/* Input/Dropdown ở giữa - sau label */
.admin-app-field-compact .admin-app-dropdown {
  height: 28px;
  position: relative;
  z-index: 1;
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 0;
  margin-right: 0;
  flex-shrink: 0;
  order: 2;
}

.admin-app-field-compact .admin-app-dropdown .admin-app-dropdown-trigger {
  min-height: 28px;
  height: auto;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  align-items: center;
}

/* Input wrapper ở giữa - sau label */
.admin-app-field-compact .admin-app-input-wrapper {
  height: 28px;
  position: relative;
  z-index: 1;
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 0;
  margin-right: 0;
  flex-shrink: 0;
  order: 2;
  width: 100%;
  display: flex;
  align-items: center;
}

/* Hints/Notes/Errors ở dưới - sau input */
.admin-app-field-compact .admin-app-hint,
.admin-app-field-compact .admin-app-badge-error,
.admin-app-field-compact .admin-app-badge-promotion,
.admin-app-field-compact .admin-app-error-inline,
.admin-app-field-compact .admin-app-hint-compact {
  position: relative;
  z-index: 0;
  margin-top: 2px;
  margin-bottom: 0;
  min-height: 12px;
  display: block;
  width: 100%;
  overflow: visible;
  line-height: 1.2;
  flex-shrink: 0;
  order: 3;
}

/* Đảm bảo input trực tiếp cũng có order đúng */
.admin-app-field-compact > .admin-app-input,
.admin-app-field-compact > input[type="text"],
.admin-app-field-compact > input[type="number"] {
  order: 2;
  margin-top: 0;
  margin-bottom: 0;
}

/* Field compact spacing already defined above - remove duplicate */

.admin-app-field-product {
  grid-column: span 2;
}

.admin-app-field-promotion {
  grid-column: span 2;
  position: relative;
  padding: 3px 4px;
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 50%, #fcd34d 100%);
  border: 1px solid #f59e0b;
  border-radius: 3px;
  box-shadow: 0 1px 3px rgba(245, 158, 11, 0.12);
  margin-top: 2px;
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

.admin-app-field-promotion::before {
  content: '🎁';
  position: absolute;
  top: 3px;
  right: 4px;
  font-size: 10px;
  z-index: 1;
  pointer-events: none;
}

.admin-app-field-promotion > .admin-app-label-inline {
  color: #92400e;
  font-weight: 600;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.2px;
  margin-bottom: 2px;
  min-height: 14px;
  height: 14px;
}

.admin-app-field-promotion .admin-app-input,
.admin-app-field-promotion select {
  background: white;
  border-color: #f59e0b;
  box-shadow: 0 1px 2px rgba(245, 158, 11, 0.12);
  font-size: 10px;
  padding: 2px 4px;
  height: 22px;
  min-width: 0;
  width: 100%;
  max-width: none !important;
  box-sizing: border-box;
}

/* Override max-width cho select promotion */
.admin-app-field-promotion select.admin-app-input-compact {
  max-width: none !important;
}

.admin-app-field-promotion .admin-app-input:focus,
.admin-app-field-promotion select:focus {
  border-color: #d97706;
  box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.1);
  outline: none;
}

/* Override max-width cho promotion select để hiển thị đầy đủ tên */
.admin-app-field-promotion select.admin-app-input-compact,
.admin-app-field-promotion .admin-app-select-with-copy select {
  max-width: none !important;
  width: 100% !important;
}

.admin-app-select-with-copy {
  display: flex;
  align-items: center;
  gap: 3px;
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

.admin-app-select-with-copy > select {
  flex: 1 1 auto;
  min-width: 0;
  width: 100%;
  max-width: none;
  cursor: pointer;
  box-sizing: border-box;
}

/* Make copy button match height of adjacent inputs and center icon */
.admin-app-select-with-copy .admin-app-dropdown-copy-btn {
  height: 40px;
  min-height: 40px;
  width: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  border-radius: 6px;
  box-sizing: border-box;
}
/* Remove previous padding-top hack and ensure copy button centers vertically */
.admin-app-select-with-copy .admin-app-dropdown-copy-btn {
  padding-top: 0;
  margin-top: 0;
  align-self: center;
  vertical-align: middle;
}

/* Align discount group's inner controls to the same baseline as neighboring inputs */
.admin-app-form-row-approval .admin-app-field-discount-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding-top: 6px; /* small offset so label sits above input but controls align */
  min-width: 0;
}
.admin-app-form-row-approval .admin-app-field-discount-group > div {
  display: flex;
  align-items: center;
  gap: 8px;
  height: 44px; /* same as other inputs */
  min-height: 44px;
  box-sizing: border-box;
}

/* Ensure the label inside the discount input column always sits above the number input */
.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-label-inline {
  display: block !important;
  width: 100% !important;
  margin-bottom: 6px !important;
  order: -1 !important;
  text-align: left !important;
}

/* The numeric input column should stack label above input */
.admin-app-form-row-approval .admin-app-field-discount-group > div > div:nth-child(2) {
  display: flex !important;
  flex-direction: column !important;
  align-items: stretch !important;
  justify-content: flex-start !important;
  height: auto !important;
  min-height: 0 !important;
  box-sizing: border-box !important;
}

/* Force numeric input size to match other inputs */
.admin-app-form-row-approval .admin-app-field-discount-group input[type="number"],
.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-input-compact,
.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-input {
  height: 44px !important;
  min-height: 44px !important;
  padding: 8px 10px !important;
  box-sizing: border-box !important;
  display: block !important;
  width: 100% !important;
}

/* Reduce visual size of the numeric input column to match neighboring inputs */
.admin-app-form-row-approval .admin-app-field-discount-group > div > div {
  width: 100px !important;
  flex: 0 0 100px !important;
  max-width: 100px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  height: 44px !important;
  min-height: 44px !important;
  padding: 0 !important;
  box-sizing: border-box !important;
}
.admin-app-form-row-approval .admin-app-field-discount-group > div > div input[type="number"] {
  height: 36px !important;
  min-height: 36px !important;
  padding: 6px 10px !important;
  box-sizing: border-box !important;
  width: 100% !important;
}

/* Final override: target the exact input element and its wrapper (highest specificity)
   Ensure the numeric input is visually identical to other compact inputs */
.admin-app-form-row-approval .admin-app-field-discount-group input.admin-app-input.admin-app-input-compact[type="number"] {
  height: 36px !important;
  min-height: 36px !important;
  padding: 6px 10px !important;
  line-height: 18px !important;
  font-size: 14px !important;
  box-sizing: border-box !important;
  width: 100% !important;
  border-radius: 6px !important;
}
.admin-app-form-row-approval .admin-app-field-discount-group > div > div {
  display: flex !important;
  flex-direction: column !important;
  justify-content: flex-start !important;
  align-items: stretch !important;
  height: auto !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* If any parent set a large min-height, override it here for compact layout */
.admin-app-form-row-approval .admin-app-field-compact {
  min-height: 0 !important;
}

/* Strong final clamp: prevent the numeric input from expanding vertically */
.admin-app-form-row-approval .admin-app-field-discount-group input[type="number"] {
  max-height: 44px !important;
  height: 36px !important;
  min-height: 36px !important;
  overflow: hidden !important;
}

/* Also clamp any direct wrapper that might apply background/border */
.admin-app-form-row-approval .admin-app-field-discount-group > div > div,
.admin-app-form-row-approval .admin-app-field-discount-group > div {
  max-height: 60px !important;
}

/* Align the dropdown trigger (selected 'Khác') to match neighboring inputs */
.admin-app-form-row-approval .admin-app-dropdown-trigger,
.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-dropdown-trigger {
  height: 36px !important;
  min-height: 36px !important;
  padding: 6px 12px !important;
  box-sizing: border-box !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  font-size: 14px !important;
  line-height: 18px !important;
}
.admin-app-form-row-approval .admin-app-dropdown-value {
  line-height: 18px !important;
  display: inline-flex;
  align-items: center;
}

/* Strong uniform alignment for all dropdown triggers in the approval row */
.admin-app-form-row-approval .admin-app-dropdown,
.admin-app-form-row-approval .admin-app-dropdown-trigger,
.admin-app-form-row-approval .admin-app-select-with-copy,
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-trigger {
  height: 36px !important;
  min-height: 36px !important;
  padding: 6px 12px !important;
  box-sizing: border-box !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  vertical-align: middle !important;
}

/* Ensure dropdown value text centers vertically and doesn't wrap */
.admin-app-form-row-approval .admin-app-dropdown .admin-app-dropdown-value,
.admin-app-form-row-approval .admin-app-dropdown-value {
  display: inline-flex !important;
  align-items: center !important;
  height: 36px !important;
  line-height: 18px !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* If a specific field uses extra wrappers, normalize them */
.admin-app-form-row-approval .admin-app-field-compact,
.admin-app-form-row-approval .admin-app-field-compact > .admin-app-dropdown,
.admin-app-form-row-approval .admin-app-field-compact > .admin-app-input-wrapper {
  display: flex !important;
  flex-direction: column !important;
  gap: 6px !important;
  align-items: stretch !important;
  justify-content: flex-start !important;
}

/* Target discount group's dropdown specifically and center it vertically */
.admin-app-form-row-compact.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-dropdown,
.admin-app-form-row-compact.admin-app-form-row-approval .admin-app-field-discount-group .admin-app-dropdown-trigger {
  align-self: center !important;
  margin-top: 0 !important;
  height: 36px !important;
  min-height: 36px !important;
  padding: 6px 10px !important;
  display: inline-flex !important;
  align-items: center !important;
  box-sizing: border-box !important;
}

/* If dropdown still inherits extra top margin from upstream wrappers, cancel it */
.admin-app-form-row-compact.admin-app-form-row-approval .admin-app-field-discount-group,
.admin-app-form-row-compact.admin-app-form-row-approval .admin-app-field-discount-group > div {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

.admin-app-field-stock {
  display: flex;
  align-items: center;
  font-size: 11px;
  color: #64748b;
  line-height: 1.2;
}

.admin-app-field-vat {
  min-width: 50px;
  max-width: 50px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

.admin-app-field-discounted-price {
  min-width: 120px;
}

.admin-app-field-total {
  min-width: 100px;
}

.admin-app-field-grand-total {
  min-width: 110px;
}

.admin-app-field-mini {
  min-width: 0;
}

.admin-app-label-inline {
  font-size: 11px;
  font-weight: 600;
  color: #475569;
  margin-bottom: 4px;
  margin-top: 0;
  padding-bottom: 0;
  display: flex;
  align-items: center;
  width: 100%;
  position: relative;
  z-index: 10;
  min-height: 16px;
  height: 16px;
  line-height: 1.3;
  flex-shrink: 0;
  order: 1;
  white-space: nowrap;
  overflow: visible;
  pointer-events: none;
}

.admin-app-input-compact {
  height: 28px;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  max-width: 200px;
}

.admin-app-input-wrapper .admin-app-input-compact {
  height: 28px;
  max-width: 200px;
  width: 100%;
  flex: 1;
}

.admin-app-input-small {
  height: 24px;
  padding: 3px 6px;
  font-size: 11px;
}

.admin-app-input-wrapper .admin-app-input-small {
  height: 24px;
  width: 100%;
  flex: 1;
}

.admin-app-input-total {
  font-weight: 700;
  color: #0f172a;
  font-size: 12px;
}

.admin-app-hint-compact {
  font-size: 11px;
  color: #94a3b8;
  font-style: italic;
  line-height: 1.2;
}

.admin-app-error-inline {
  font-size: 10px;
  color: #dc2626;
  margin-top: 1px;
  line-height: 1.2;
}

.admin-app-badge-error {
  display: inline-block;
  padding: 1px 4px;
  border-radius: 3px;
  background: #fef2f2;
  color: #dc2626;
  font-size: 10px;
  font-weight: 600;
  border: 1px solid #fecaca;
  margin-top: 1px;
  line-height: 1.2;
}

.admin-app-badge-promotion {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  padding: 1px 5px;
  border-radius: 3px;
  background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
  color: white;
  font-size: 9px;
  font-weight: 600;
  border: 1px solid #b91c1c;
  margin-top: 2px;
  line-height: 1.2;
  box-shadow: 0 1px 2px rgba(220, 38, 38, 0.2);
  text-transform: uppercase;
  letter-spacing: 0.2px;
  animation: pulse-promotion 2s ease-in-out infinite;
}

.admin-app-badge-promotion::before {
  content: '🔥';
  font-size: 9px;
}

@keyframes pulse-promotion {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 2px 4px rgba(220, 38, 38, 0.3);
  }
  50% {
    transform: scale(1.02);
    box-shadow: 0 3px 6px rgba(220, 38, 38, 0.4);
  }
}

.admin-app-reload-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 2px 4px;
  color: #64748b;
  font-size: 12px;
  margin-left: 4px;
  transition: color 0.2s;
}

.admin-app-reload-btn:hover {
  color: #2563eb;
}

.admin-app-checkboxes-inline {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 2px;
}

.admin-app-checkboxes-inline-right {
  justify-content: flex-end;
}

.admin-app-chip-toggle {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 5px 10px;
  border-radius: 999px;
  border: 1px solid #d0d7e2;
  background: rgba(255, 255, 255, 0.9);
  color: #334155;
  font-size: 11px;
  font-weight: 600;
  line-height: 1;
  cursor: pointer;
  user-select: none;
  transition: all 0.15s ease;
}

.admin-app-chip-toggle:hover:not(.is-disabled) {
  border-color: #94a3b8;
  background: #ffffff;
  transform: translateY(-1px);
}

.admin-app-chip-toggle input {
  width: 12px;
  height: 12px;
  cursor: pointer;
}

.admin-app-chip-toggle.is-active {
  border-color: #2563eb;
  background: rgba(37, 99, 235, 0.08);
  color: #1d4ed8;
}

.admin-app-chip-toggle.is-disabled {
  opacity: 0.55;
  cursor: not-allowed;
  transform: none;
}

.admin-app-checkbox-inline {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: #475569;
  cursor: pointer;
}

.admin-app-checkbox-inline input {
  width: 12px;
  height: 12px;
  cursor: pointer;
}

.admin-app-disabled-reason {
  font-size: 10px;
  color: #ef4444;
  line-height: 1.2;
  text-align: right;
  max-width: 220px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 500;
}

.admin-app-action-btn-compact {
  width: 28px;
  height: 28px;
  border-radius: 4px;
  border: 1px solid #d0d7e2;
  background: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  font-weight: 600;
  transition: all 0.2s;
}

.admin-app-action-btn-compact:hover:not(:disabled) {
  background: #f0f9ff;
  border-color: #2563eb;
  color: #2563eb;
}

.admin-app-action-btn-compact:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.admin-app-action-btn-add {
  color: #059669;
}

.admin-app-action-btn-add:hover:not(:disabled) {
  background: #ecfdf5;
  border-color: #059669;
}

/* Compact Table Wrapper */
.admin-app-table-wrapper {
  flex-shrink: 0;
  padding: 0 8px 8px;
  margin-top: 0;
  height: 350px;
  min-height: 350px;
  max-height: 350px;
  display: flex;
  flex-direction: column;
}

.admin-app-table-compact-wrapper {
  background: white;
  border-radius: 6px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
  border: 1px solid #e2e8f0;
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

.admin-app-table-compact-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 4px 8px;
  border-bottom: 1px solid #e2e8f0;
  background: #f8fafc;
}

.admin-app-table-title {
  font-size: 13px;
  font-weight: 700;
  color: #0f172a;
  margin: 0;
}

.admin-app-table-count {
  font-size: 11px;
  color: #64748b;
  font-weight: 500;
}

.admin-app-table-compact-container {
  flex: 1;
  overflow-y: auto;
  overflow-x: auto;
  min-height: 0;
}

.admin-app-table-compact {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
}

.admin-app-table-compact thead {
  position: sticky;
  top: 0;
  z-index: 10;
  background: linear-gradient(120deg, #0ea5e9 0%, #2563eb 40%, #22c55e 100%);
  color: white;
}

.admin-app-table-compact th {
  padding: 4px 6px;
  text-align: left;
  font-weight: 600;
  font-size: 10px;
  white-space: nowrap;
  border-right: 1px solid rgba(255, 255, 255, 0.2);
}

.admin-app-table-compact th:last-child {
  border-right: none;
}

.admin-app-table-compact tbody tr {
  border-bottom: 1px solid #e5e7eb;
  min-height: 32px;
  height: auto;
  transition: background-color 0.15s;
}

.admin-app-table-compact tbody tr:hover {
  background: #f8fafc;
}

.admin-app-table-compact td {
  padding: 4px 6px;
  color: #0f172a;
  border-right: 1px solid #f1f5f9;
  vertical-align: middle;
  font-size: 11px;
}

.admin-app-table-compact td:last-child {
  border-right: none;
}

.admin-app-cell-product-name {
  max-width: 300px;
  min-width: 200px;
  word-wrap: break-word;
  white-space: normal;
  line-height: 1.4;
}

.admin-app-cell-right {
  text-align: right;
}

.admin-app-cell-center {
  text-align: center;
}

.admin-app-cell-total {
  font-weight: 600;
  color: #0f172a;
}

.admin-app-table-status-badge {
  display: inline-block;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
}

.admin-app-status-success {
  background: #dcfce7;
  color: #166534;
  border: 1px solid #bbf7d0;
}

.admin-app-status-pending {
  background: #fff7ed;
  color: #9a3412;
  border: 1px solid #fed7aa;
}

.admin-app-delete-btn-compact {
  width: 20px;
  height: 20px;
  border-radius: 3px;
  border: 1px solid #fecaca;
  background: #fef2f2;
  color: #dc2626;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.admin-app-delete-btn-compact:hover {
  background: #dc2626;
  color: white;
  border-color: #dc2626;
}

/* Row modified style */
.admin-app-row-modified {
  background-color: #fef3c7 !important;
  border-left: 3px solid #f59e0b;
}

.admin-app-row-modified:hover {
  background-color: #fde68a !important;
}

/* Modified badge */
.admin-app-modified-badge {
  display: inline-block;
  margin-left: 6px;
  font-size: 12px;
  vertical-align: middle;
}

/* Row unsaved style */
.admin-app-row-unsaved {
  background-color: #fef2f2 !important;
  border-left: 3px solid #ef4444;
}

.admin-app-row-unsaved:hover {
  background-color: #fee2e2 !important;
}

/* Unsaved badge */
.admin-app-unsaved-badge {
  display: inline-block;
  margin-left: 6px;
  font-size: 12px;
  vertical-align: middle;
  color: #dc2626;
}

/* Quantity input */
.admin-app-quantity-input {
  font-size: 11px;
  font-family: inherit;
}

.admin-app-quantity-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

/* Confirm button */
.admin-app-confirm-btn-compact {
  width: 20px;
  height: 20px;
  border-radius: 3px;
  border: 1px solid #10b981;
  background: #d1fae5;
  color: #059669;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.admin-app-confirm-btn-compact:hover:not(:disabled) {
  background: #10b981;
  color: white;
  border-color: #10b981;
}

.admin-app-confirm-btn-compact:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.admin-app-table-empty-compact {
  text-align: center;
  padding: 30px !important;
  color: #94a3b8;
  font-style: italic;
  font-size: 11px;
}

/* Pagination */
.admin-app-pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 3px;
  padding: 4px;
  border-top: 1px solid #e2e8f0;
  background: #f8fafc;
}

.admin-app-pagination-btn {
  min-width: 24px;
  height: 24px;
  padding: 0 6px;
  border-radius: 3px;
  border: 1px solid #d0d7e2;
  background: white;
  color: #475569;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.admin-app-pagination-btn:hover:not(:disabled) {
  background: #f1f5f9;
  border-color: #94a3b8;
}

.admin-app-pagination-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.admin-app-pagination-active {
  background: #2563eb;
  color: white;
  border-color: #2563eb;
}

.admin-app-pagination-active:hover {
  background: #1d4ed8;
  border-color: #1d4ed8;
}

/* Responsive adjustments for 1366px-1440px */
@media (min-width: 1366px) and (max-width: 1440px) {
  .admin-app-column-left {
    min-width: 280px;
  }
  
  .admin-app-table-wrapper {
    height: 350px;
    min-height: 350px;
    max-height: 350px;
  }
  
  .admin-app-table-compact tbody tr {
    height: 30px;
  }
}

/* Ensure no vertical scroll on main container */
.admin-app-compact-layout {
  overflow: hidden;
}

/* Allow scroll only in specific containers */
.admin-app-card-compact,
.admin-app-table-compact-container {
  overflow-y: auto;
  overflow-x: visible;
}

.admin-app-content-compact {
  overflow: visible;
}

/* Fix for all parent containers to allow dropdown overflow */
.admin-app-content-compact,
.admin-app-column-left,
.admin-app-column-right {
  overflow: visible !important;
}

/* Custom scrollbar */
.admin-app-card-compact::-webkit-scrollbar,
.admin-app-table-compact-container::-webkit-scrollbar {
  width: 6px;
}

.admin-app-card-compact::-webkit-scrollbar-track,
.admin-app-table-compact-container::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 3px;
}

.admin-app-card-compact::-webkit-scrollbar-thumb,
.admin-app-table-compact-container::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 3px;
}

.admin-app-card-compact::-webkit-scrollbar-thumb:hover,
.admin-app-table-compact-container::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* ============ Popup Styles ============ */
.admin-app-popup-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(15, 23, 42, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.admin-app-popup {
  background: white;
  border-radius: 12px;
  box-shadow: 0 20px 60px rgba(15, 23, 42, 0.25);
  min-width: 360px;
  max-width: 480px;
  animation: slideUp 0.25s ease;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.admin-app-popup-header {
  padding: 16px 20px;
  border-bottom: 1px solid #e2e8f0;
}

.admin-app-popup-title {
  font-size: 16px;
  font-weight: 600;
  color: #1e293b;
  margin: 0;
}

.admin-app-popup-content {
  padding: 20px;
}

.admin-app-popup-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding: 16px 20px;
  border-top: 1px solid #e2e8f0;
  background: #f8fafc;
  border-radius: 0 0 12px 12px;
}

.admin-app-btn {
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid transparent;
}

.admin-app-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.admin-app-btn-primary {
  background: #2563eb;
  color: white;
  border-color: #2563eb;
}

.admin-app-btn-primary:hover:not(:disabled) {
  background: #1d4ed8;
  border-color: #1d4ed8;
}

.admin-app-btn-secondary {
  background: white;
  color: #475569;
  border-color: #cbd5e1;
}

.admin-app-btn-secondary:hover:not(:disabled) {
  background: #f1f5f9;
  border-color: #94a3b8;
}

/* ============ Mobile Optimization - Stack Layout ============ */
/* Đảm bảo 3 phần chính xếp chồng lên nhau trên mobile */

@media (max-width: 768px) {
  /* Wrapper - tối ưu cho mobile */
  .admin-app-wrapper {
    padding: 8px !important;
    max-width: 100% !important;
  }

  /* Main content container - chuyển từ flex row sang flex column */
  .admin-app-content-compact {
    flex-direction: column !important;
    gap: 12px !important;
    padding: 12px !important;
    max-height: none !important;
    overflow-y: auto !important;
    align-items: stretch !important;
  }

  /* Left column - Thông tin đơn hàng (phần 1) */
  .admin-app-column-left {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    flex: 0 0 auto !important;
    order: 1;
    margin-bottom: 0;
    transform: none !important;
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
  }

  /* Right column - Product Entry Form (phần 2) */
  .admin-app-column-right {
    width: 100% !important;
    flex: 0 0 auto !important;
    min-width: 100% !important;
    order: 2;
    margin-bottom: 0;
  }

  /* Table wrapper - Product Table (phần 3) */
  .admin-app-table-wrapper {
    width: 100% !important;
    order: 3;
    flex: 0 0 auto !important;
    height: auto !important;
    min-height: 350px !important;
    max-height: 450px !important;
    margin-top: 12px;
  }

  /* Ẩn nút reveal khi collapsed trên mobile vì không cần */
  .admin-app-orderinfo-reveal {
    display: none !important;
  }

  /* Card compact - tối ưu padding cho mobile */
  .admin-app-card-compact {
    padding: 12px !important;
  }

  /* Header compact - tối ưu cho mobile */
  .admin-app-header-compact {
    padding: 0 12px !important;
    flex-wrap: wrap;
    min-height: auto;
    height: auto;
    padding-top: 8px;
    padding-bottom: 8px;
  }

  .admin-app-header-compact-left {
    width: 100%;
    margin-bottom: 8px;
  }

  .admin-app-header-compact-right {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    justify-content: flex-start;
  }

  .admin-app-header-btn {
    flex: 1 1 auto;
    min-width: 80px;
    font-size: 12px !important;
    padding: 6px 10px !important;
  }

  /* Form fields - tối ưu spacing */
  .admin-app-field-compact {
    margin-bottom: 12px;
  }

  .admin-app-form-compact {
    gap: 12px;
  }

  /* Product entry form rows - chuyển sang 1 cột trên mobile */
  .admin-app-product-row-1,
  .admin-app-product-row-2,
  .admin-app-product-row-3 {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }

  .admin-app-form-row-mini {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }

  /* Checkboxes inline - xếp dọc trên mobile */
  .admin-app-checkboxes-inline {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 8px !important;
  }

  /* Table - tối ưu cho mobile */
  .admin-app-table-compact {
    font-size: 12px;
  }

  .admin-app-table-compact th,
  .admin-app-table-compact td {
    padding: 6px 4px !important;
    font-size: 11px;
  }

  /* Wrapper - cho phép scroll trên mobile */
  .admin-app-wrapper {
    overflow-y: auto !important;
    height: 100vh;
  }

  /* Compact layout - cho phép scroll trên mobile */
  .admin-app-compact-layout {
    overflow-y: auto !important;
    height: 100vh;
  }
}

/* Mobile nhỏ hơn (480px) */
@media (max-width: 480px) {
  /* Wrapper - tối ưu padding */
  .admin-app-wrapper {
    padding: 4px 8px 8px !important;
    max-width: 100% !important;
  }

  /* Header - tối ưu cho mobile nhỏ */
  .admin-app-header {
    padding: 12px !important;
    gap: 12px;
  }

  .admin-app-header-left {
    width: 100%;
  }

  .admin-app-header-right {
    width: 100%;
    flex-direction: column;
    gap: 10px;
  }

  .admin-app-form-toggle {
    width: 100%;
    justify-content: center;
  }

  .admin-app-user-info {
    width: 100%;
    max-width: 100%;
  }

  .admin-app-content-compact {
    padding: 8px !important;
    gap: 8px !important;
  }

  .admin-app-card-compact {
    padding: 10px !important;
  }

  .admin-app-header-compact {
    padding: 0 8px !important;
    padding-top: 6px;
    padding-bottom: 6px;
  }

  .admin-app-header-btn {
    font-size: 11px !important;
    padding: 5px 8px !important;
    min-width: 70px;
  }

  .admin-app-title-compact {
    font-size: 12px !important;
  }

  .admin-app-table-wrapper {
    min-height: 250px !important;
    max-height: 350px !important;
  }

  .admin-app-field-compact {
    margin-bottom: 10px;
  }

  .admin-app-form-compact {
    gap: 10px;
  }

  /* Dropdown menu - tối ưu cho màn hình nhỏ */
  .admin-app-dropdown-menu {
    max-height: 200px !important;
    font-size: 13px;
  }

  /* Input fields - tối ưu font size */
  .admin-app-input,
  .admin-app-input-compact {
    font-size: 14px !important;
    padding: 10px 12px !important;
  }

  /* Labels */
  .admin-app-label-inline {
    font-size: 12px !important;
    margin-bottom: 4px;
  }

  /* Toggle buttons - tối ưu cho mobile */
  .admin-app-toggle-btn {
    font-size: 13px !important;
    padding: 8px 16px !important;
  }

  /* User info - compact hơn */
  .admin-app-user-avatar {
    width: 32px !important;
    height: 32px !important;
    font-size: 14px !important;
  }

  .admin-app-user-name {
    font-size: 13px !important;
  }

/* Background Job Status */
.admin-app-background-job-status {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  border: 1px solid #e1e5e9;
  min-width: 300px;
  max-width: 400px;
  z-index: 1000;
  animation: slideInFromRight 0.3s ease-out;
}

@keyframes slideInFromRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.admin-app-job-header {
  padding: 16px;
  border-bottom: 1px solid #e1e5e9;
}

.admin-app-job-title {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.admin-app-job-type {
  font-weight: 600;
  color: #1a202c;
}

.admin-app-job-id {
  font-size: 12px;
  color: #718096;
  font-family: monospace;
}

.admin-app-job-status-text {
  font-size: 14px;
  color: #4a5568;
}

.admin-app-job-pending .admin-app-job-status-text {
  color: #d69e2e;
}

.admin-app-job-running .admin-app-job-status-text {
  color: #3182ce;
}

.admin-app-job-completed .admin-app-job-status-text {
  color: #38a169;
}

.admin-app-job-failed .admin-app-job-status-text {
  color: #e53e3e;
}

.admin-app-job-progress {
  padding: 16px;
}

.admin-app-progress-bar {
  width: 100%;
  height: 8px;
  background-color: #e2e8f0;
  border-radius: 4px;
  margin-bottom: 8px;
  overflow: hidden;
}

.admin-app-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #3182ce, #63b3ed);
  border-radius: 4px;
  transition: width 0.3s ease;
}

.admin-app-job-running .admin-app-progress-fill {
  background: linear-gradient(90deg, #3182ce, #63b3ed);
}

.admin-app-progress-text {
  font-size: 12px;
  color: #718096;
  text-align: center;
}

.admin-app-progress-step {
  display: block;
  margin-top: 4px;
  font-style: italic;
}

.admin-app-job-error {
  padding: 16px;
  background-color: #fed7d7;
  border-top: 1px solid #e53e3e;
}

.admin-app-error-message {
  color: #c53030;
  font-size: 14px;
  line-height: 1.4;
}

.admin-app-job-success {
  padding: 16px;
  background-color: #c6f6d5;
  border-top: 1px solid #38a169;
  display: flex;
  align-items: center;
  gap: 12px;
}

.admin-app-success-icon {
  width: 24px;
  height: 24px;
  background-color: #38a169;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 14px;
}

.admin-app-success-message {
  color: #22543d;
  font-weight: 600;
}

/* Modal loading fallback */
.admin-app-modal-loading {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

/* Virtualized Product Table */
.admin-app-virtual-header {
  background: #f8fafc;
  border-bottom: 2px solid #e2e8f0;
  position: sticky;
  top: 0;
  z-index: 10;
}

.admin-app-virtual-header-content {
  display: flex;
  padding: 12px 16px;
  font-weight: 600;
  color: #2d3748;
  font-size: 13px;
  border-bottom: 1px solid #e2e8f0;
}

.admin-app-virtual-header-content > div {
  display: flex;
  align-items: center;
  padding: 0 4px;
}

.admin-app-virtual-list {
  border: 1px solid #e2e8f0;
  border-top: none;
}

.admin-app-virtual-row {
  border-bottom: 1px solid #f1f5f9;
}

.admin-app-virtual-row:hover {
  background-color: #f8fafc;
}

.admin-app-virtual-row-content {
  display: flex;
  padding: 8px 16px;
  align-items: center;
  font-size: 13px;
  min-height: 50px;
}

.admin-app-virtual-row-content > div {
  display: flex;
  align-items: center;
  padding: 0 4px;
  word-break: break-word;
}

.admin-app-cell-center {
  justify-content: center;
  text-align: center;
}

.admin-app-cell-right {
  justify-content: flex-end;
  text-align: right;
}

.admin-app-cell-product-name {
  font-weight: 500;
  color: #2d3748;
}

.admin-app-cell-clickable {
  cursor: pointer;
  padding: 2px 4px;
  border-radius: 3px;
  transition: background-color 0.2s;
}

.admin-app-cell-clickable:hover {
  background-color: #edf2f7;
}

.admin-app-cell-total {
  font-weight: 600;
  color: #2d3748;
}

.admin-app-status-saved {
  color: #38a169;
  font-weight: bold;
}

.admin-app-status-pending {
  color: #d69e2e;
}

.admin-app-action-buttons {
  display: flex;
  gap: 4px;
}

.admin-app-btn-icon {
  padding: 4px 6px;
  font-size: 12px;
  line-height: 1;
}

.admin-app-row-modified {
  background-color: #fef5e7 !important;
}

.admin-app-row-modified .admin-app-virtual-row-content {
  border-left: 3px solid #f6ad55;
}

.admin-app-modified-badge {
  margin-left: 6px;
  font-size: 12px;
}

.admin-app-input-inline {
  border: 1px solid #cbd5e0;
  border-radius: 3px;
  padding: 2px 4px;
  font-size: 12px;
  background: white;
}

.admin-app-input-inline:focus {
  outline: none;
  border-color: #3182ce;
  box-shadow: 0 0 0 1px #3182ce;
}

.admin-app-table-summary {
  background: #f8fafc;
  border-top: 2px solid #e2e8f0;
  padding: 12px 16px;
}

.admin-app-summary-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
  color: #2d3748;
}

.admin-app-summary-label {
  font-size: 14px;
}

.admin-app-summary-value {
  font-size: 14px;
  color: #4a5568;
}

  .admin-app-user-email {
    font-size: 11px !important;
  }
}

/* Landscape mobile - tối ưu cho màn hình ngang */
@media (max-width: 768px) and (orientation: landscape) {
  .admin-app-table-wrapper {
    min-height: 300px !important;
    max-height: 350px !important;
  }

  .admin-app-content-compact {
    gap: 8px !important;
  }
}

